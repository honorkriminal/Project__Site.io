# ФинПлан - Планировщик бюджета и расходов

Онлайн-инструмент для управления личными финансами, который помогает пользователям отслеживать доходы и расходы, управлять бюджетом и повышать финансовую грамотность.

## Возможности

- **Учет доходов и расходов**: Добавление, редактирование и удаление финансовых транзакций.
- **Категоризация расходов**: Распределение трат по категориям для лучшего понимания структуры расходов.
- **Бюджетирование**: Создание бюджета по категориям и отслеживание его исполнения.
- **Аналитика**: Визуализация финансовых данных через графики и диаграммы.
- **Отчеты**: Формирование финансовых отчетов за различные периоды.
- **Финансовые советы**: Раздел с полезными рекомендациями по управлению финансами.

## Технологии

Приложение разработано с использованием следующих технологий:

- HTML5
- CSS3 (с использованием современных технологий, таких как Flexbox и Grid)
- JavaScript (чистый, без использования фреймворков)
- Chart.js для визуализации данных
- LocalStorage для хранения данных пользователя

## Установка и запуск

1. Скачайте или клонируйте репозиторий на ваш компьютер.
2. Откройте файл `index.html` в вашем браузере.

## Структура проекта

- `index.html` - главная страница приложения
- `css/` - каталог с CSS файлами
  - `styles.css` - основные стили приложения
- `js/` - каталог с JavaScript файлами
  - `app.js` - основной файл приложения с общей функциональностью
  - `auth.js` - функции авторизации и регистрации
  - `dashboard.js` - функции для главной панели управления
  - `transactions.js` - функции для управления транзакциями
  - `budget.js` - функции для управления бюджетом
  - `reports.js` - функции для генерации отчетов
  - `tips.js` - функции для страницы с финансовыми советами

## Использование

1. **Регистрация и вход**: Создайте аккаунт или войдите в систему.
2. **Добавление транзакций**: Используйте кнопки "Добавить доход" и "Добавить расход" для учета финансовых операций.
3. **Управление бюджетом**: Установите лимиты расходов по категориям в разделе "Бюджет".
4. **Просмотр отчетов**: Анализируйте свои финансы с помощью графиков и отчетов.
5. **Финансовые советы**: Ознакомьтесь с рекомендациями по управлению деньгами в разделе "Советы".

## Особенности реализации

- Приложение работает полностью в браузере, без необходимости серверной части.
- Данные пользователя хранятся в локальном хранилище браузера (localStorage).
- Для демонстрационных целей создаются примеры транзакций при регистрации нового пользователя.

## Планы по развитию

- Добавление синхронизации с облачным хранилищем.
- Реализация экспорта данных в форматы PDF и Excel.
- Расширение функционала категорий расходов (подкатегории, пользовательские категории).
- Добавление целей накопления.
- Поддержка нескольких валют.

---

# Подробная документация по коду

## 1. Общая архитектура приложения

Приложение построено на основе модульной архитектуры. Каждый модуль отвечает за определенный функционал и может взаимодействовать с другими модулями через глобальный объект `window.app`, который содержит общие данные и состояние приложения.

Основная логика приложения инициализируется при загрузке страницы в обработчике события `DOMContentLoaded`.

### Глобальное состояние (window.app)

Структура глобального объекта:

```javascript
window.app = {
    currentUser: null,        // Текущий авторизованный пользователь
    transactions: [],         // Массив транзакций
    budgets: {},              // Объект бюджетов по месяцам
    categories: {
        income: [...],        // Категории доходов
        expense: [...]        // Категории расходов
    }
};
```

## 2. Модуль app.js

Основной модуль приложения, отвечающий за инициализацию, общие функции и координацию работы других модулей.

### Ключевые функции:

- `loadAppData()` - Загрузка данных приложения из localStorage
- `saveAppData()` - Сохранение данных приложения в localStorage
- `setupNavigation()` - Настройка навигации между страницами приложения
- `setupModals()` - Настройка модальных окон
- `checkAuth()` - Проверка авторизации пользователя
- `showUserProfile()` - Отображение профиля пользователя
- `showAuthForm()` - Отображение формы авторизации
- `generateId()` - Генерация уникальных идентификаторов
- `getCurrentMonth()` - Получение текущего месяца в формате 'YYYY-MM'
- `formatCurrency()` - Форматирование суммы в денежный формат
- `openModal()` и `closeAllModals()` - Функции для работы с модальными окнами

## 3. Модуль auth.js

Отвечает за аутентификацию, регистрацию и управление пользователями.

### Ключевые функции:

- `setupAuthHandlers()` - Настройка обработчиков событий для форм авторизации
- `login(email, password)` - Авторизация пользователя
- `register(name, email, password)` - Регистрация нового пользователя
- `logout()` - Выход из системы
- `initializeUserData()` - Создание начальных данных для нового пользователя
- `hashPassword(password)` - Простая функция хеширования пароля (для демонстрации)

### Хранение данных пользователей:

Пользователи хранятся в localStorage в следующем формате:

```javascript
{
    id: "уникальный_id",
    name: "Имя пользователя",
    email: "email@example.com",
    password: "хэшированный_пароль",
    createdAt: "дата_создания"
}
```

## 4. Модуль dashboard.js

Отвечает за главную страницу приложения и отображение финансовой сводки.

### Ключевые функции:

- `updateDashboard()` - Обновление всех элементов дашборда
- `updateBalanceSummary()` - Обновление блока с общей суммой баланса
- `updateRecentTransactions()` - Обновление таблицы последних транзакций
- `createExpensesChart()` - Создание диаграммы расходов по категориям
- `createBalanceChart()` - Создание графика изменения баланса
- `getMonthIncome()` и `getMonthExpense()` - Расчет доходов и расходов за текущий месяц
- `getTotalBalance()` - Расчет общего баланса

## 5. Модуль transactions.js

Управляет транзакциями пользователя (доходами и расходами).

### Ключевые функции:

- `setupTransactionHandlers()` - Настройка обработчиков событий для страницы транзакций
- `updateTransactions()` - Обновление таблицы транзакций
- `filterTransactions()` - Фильтрация транзакций по различным параметрам
- `addTransaction()` - Добавление новой транзакции
- `editTransaction()` - Редактирование существующей транзакции
- `deleteTransaction()` - Удаление транзакции
- `populateCategorySelect()` - Заполнение выпадающих списков категорий

### Структура объекта транзакции:

```javascript
{
    id: "уникальный_id",
    type: "income/expense",
    amount: 1000,
    date: "YYYY-MM-DD",
    category: "категория",
    description: "Описание транзакции",
    createdAt: "дата_создания"
}
```

## 6. Модуль budget.js

Управляет бюджетированием и лимитами расходов по категориям.

### Ключевые функции:

- `setupBudgetHandlers()` - Настройка обработчиков событий для страницы бюджета
- `updateBudget()` - Обновление отображения бюджета
- `setBudgetAmount()` - Установка лимита для категории расходов
- `calculateBudgetProgress()` - Расчет процента исполнения бюджета
- `createBudgetChart()` - Создание диаграммы исполнения бюджета
- `getCurrentMonthExpenses()` - Получение расходов за текущий месяц

### Структура бюджета:

```javascript
{
    "YYYY-MM": {
        categories: [
            { id: "категория", amount: 10000 },
            // другие категории
        ]
    }
}
```

## 7. Модуль reports.js

Отвечает за генерацию и отображение финансовых отчетов.

### Ключевые функции:

- `setupReportsHandlers()` - Настройка обработчиков событий для страницы отчетов
- `updateReports()` - Обновление отображения отчетов
- `generateReport()` - Генерация отчета по выбранным параметрам
- `createIncomeExpenseChart()` - Создание диаграммы доходов и расходов
- `createCategoryChart()` - Создание диаграммы расходов по категориям
- `exportReportCSV()` - Экспорт отчета в формате CSV
- `groupTransactionsByPeriod()` - Группировка транзакций по периодам

### Типы отчетов:

- Ежемесячный отчет
- Квартальный отчет
- Годовой отчет
- Пользовательский отчет (за выбранный период)

## 8. Модуль tips.js

Предоставляет финансовые советы и рекомендации пользователям.

### Ключевые функции:

- `setupTipsHandlers()` - Настройка обработчиков событий для страницы советов
- `loadTips()` - Загрузка финансовых советов
- `displayTips()` - Отображение советов на странице
- `getTipByCategory()` - Получение совета по определенной категории

### Структура советов:

```javascript
{
    category: "категория_совета",
    title: "Заголовок совета",
    content: "Содержание совета",
    source: "Источник (при наличии)"
}
```

## 9. HTML структура (index.html)

Основной файл HTML содержит следующие главные секции:

- `header` - Шапка с логотипом, навигацией и панелью пользователя
- `auth-section` - Секция с формами входа и регистрации
- `dashboard` - Главная панель с финансовой сводкой
- `transactions` - Страница управления транзакциями
- `budget` - Страница управления бюджетом
- `reports` - Страница с финансовыми отчетами
- `tips` - Страница с финансовыми советами
- Модальные окна для различных действий

## 10. CSS структура (styles.css)

Стили организованы по секциям:

- Общие стили и переменные
- Стили для хедера и навигации
- Стили для форм авторизации
- Стили для дашборда
- Стили для страницы транзакций
- Стили для страницы бюджета
- Стили для страницы отчетов
- Стили для страницы советов
- Стили для модальных окон
- Вспомогательные классы (утилиты)
- Адаптивные стили (медиа-запросы)

## 11. Взаимодействие с localStorage

Приложение использует localStorage для хранения следующих данных:

- `finplan_users` - Массив зарегистрированных пользователей
- `finplan_user` - Текущий авторизованный пользователь
- `finplan_transactions` - Транзакции пользователя
- `finplan_budgets` - Бюджеты пользователя

## 12. Библиотеки и зависимости

- **Font Awesome** - Используется для иконок в интерфейсе
- **Chart.js** - Используется для визуализации данных в графиках и диаграммах

## 13. Демонстрационные данные

При регистрации нового пользователя создаются демонстрационные данные:

- Доход за прошлую неделю (Зарплата, 20 000 ₽)
- Расход за вчера (Продукты, 2 000 ₽)
- Расход за сегодня (Бензин, 1 500 ₽)
- Бюджет на текущий месяц по трем категориям

## 14. Безопасность

- Пароли хранятся в хешированном виде (для демонстрации используется простая хеш-функция)
- Данные хранятся локально в браузере пользователя
- При выходе из системы сессия пользователя очищается 